<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de IMC</title>
</head>
<body>
    <h1>C√°lculo IMC</h1>
    
    <h3>IMC √© a sigla para √çndice de Massa Corp√≥rea, par√¢metro adotado pela Organiza√ß√£o Mundial de Sa√∫de para calcular o peso ideal de cada pessoa.</h3>
    
    <p>O √≠ndice √© calculado da seguinte maneira: divide-se o peso do paciente pela sua altura elevada ao quadrado. Diz-se que o indiv√≠duo tem peso normal quando o resultado do IMC est√° entre 18,5 e 24,9.<br>Quer descobrir seu IMC? Insira seu peso e sua altura nos campos abaixo e compare com os √≠ndices da tabela. Importante: siga os exemplos e use pontos como separadores.</p>
    
    <img src="https://d2q576s0wzfxtl.cloudfront.net/2018/05/12201816/177.png" alt="Tabela de IMC de acordo com a Sociedade Brasileira de Medicina" width=" 400px">
<br><br>
    <button onclick="executarApp()">Calcular IMC</button>

    <script type="text/javascript">
        /*

            Exerc√≠cio da Mesa de Trabalho - Aula 07 - Felipe Bertevello

            N√≠vel I - Refatorando (Conclu√≠do)
            O que pode ser feito para melhorar a legibilidade¬π do c√≥digo?

            ¬πFacilidade de entendimento do algoritimo gerado no c√≥digo. 

            N√≠vel II - Adicionando novas funcionalidades (Conclu√≠do)
            O usu√°rio com sobrepeso, obsidade e/ou obsidade grave dever√£o:
            - Receber uma alerta recomendando uma consulta com nutricionista (Boleano - true ou false);
                - Caso a resposta seja sim, preencher√° com:
                    - Seu nome;
                    - Dia da semana que pretende se consultar;
                    - O hor√°rio do dia que pretende se consultar;
                    - Agradecer o usu√°rio pelo nome e informar o dia e hor√°rio da consulta com o Dra. Luana Nagydai.
                - Caso a resposta seja n√£o:
                    - Receber√° um pedido de agradecimento.

            N√≠vel III - Corre√ß√£o de error (Conclu√≠do)
            (üçí do bolo)
            Recebemos um pedido de altera√ß√£o da cl√≠nica:
            O usu√°rio com sobrepeso, obsidade e/ou obsidade grave dever√£o:
            - Receber uma alerta recomendando uma consulta com nutricionista (Boleano - true ou false);
                - Caso a resposta seja sim, preencher√° com:
                    - Seu nome;
                    - Dia da semana que pretende se consultar;
                    - O hor√°rio do dia que pretende se consultar;
                    (ajuste)
                    - Confirmar com o usu√°rio se o dia e o hor√°rio est√£o corretos:
                        Caso a resposta seja sim:
                        - Segue o fluxo normalmente.
                    - Caso a resposta seja n√£o:
                        - Dia da semana que pretende se consultar;
                        - O hor√°rio do dia que pretende se consultar;
                    (fim do ajuste)
                    - Agradecer o usu√°rio pelo nome e informar o dia e hor√°rio da consulta com o Dra. Luana Nagydai.
                - Caso a resposta seja n√£o:
                    - Receber√° um pedido de agradecimento.

        */

        var nome, idade, peso, altura, resultadoImc, marcarConsulta, diaSemana, horaDia, confirmarHorario = null
        var agradecerSaida = "Obrigado por utilizar nossa Calculadora de IMC. Esperamos sua visita no futuro."

        function coletarDados() {

            nomeDoUsuario = prompt("Ol√°. Por favor, informe seu nome.")
            idadeDoUsuario = prompt("Por favor, informe a sua idade.")
            peso = prompt('Por favor, informe seu peso em kg.');
            altura = prompt('Por favor, informe sua altura em metros.');
            
        }

        function calcularImc(){

            resultadoImc = peso / (altura ** 2);
            
            if(resultadoImc <= 18.5) {
                alert(`${nomeDoUsuario}, seu IMC est√° em ${resultadoImc.toFixed(1)} e seu perfil √©: ABAIXO DO PESO`);
            }
            else if(resultadoImc >= 18.5 && resultadoImc <= 24.9) {
                alert(`${nomeDoUsuario}, seu IMC est√° em ${resultadoImc.toFixed(1)} e seu perfil √©: NORMAL`);
            }
            else if(resultadoImc >= 25 && resultadoImc <=29.9) {
                alert(`${nomeDoUsuario}, seu IMC est√° em ${resultadoImc.toFixed(1)} e seu perfil √©: SOBREPESO DE GRAU I`);
                marcarConsulta = confirm(`Prezado ${nomeDoUsuario}, com o resultado encontrado em seu IMC, √© recomendado a consulta com um nutricionista. Voc√™ gostaria de agendar um hor√°rio com um de nossos profissionais?`);
                    if(marcarConsulta == true){coletarAgendamento()
                    }
                    else{alert(agradecerSaida)
                    }
            }
            else if(resultadoImc >=30 && resultadoImc <= 39.9) {
                alert(`${nomeDoUsuario}, seu IMC est√° em ${resultadoImc.toFixed(1)} e seu perfil √©: OBESIDADE DE GRAU II`);
                marcarConsulta = confirm(`Prezado ${nomeDoUsuario}, com o resultado encontrado em seu IMC, √© recomendado a consulta com um nutricionista. Voc√™ gostaria de agendar um hor√°rio com um de nossos profissionais?`);
                    if(marcarConsulta == true){coletarAgendamento()
                    }
                    else{alert(agradecerSaida)
                    }
            }
            else {
                alert(`${nomeDoUsuario}, seu IMC est√° em ${resultadoImc.toFixed(1)} e seu perfil √©: OBESIDADE GRAVE DE GRAU III`);
                marcarConsulta = confirm(`Prezado ${nomeDoUsuario}, com o resultado encontrado em seu IMC, √© recomendado a consulta com um nutricionista. Voc√™ gostaria de agendar um hor√°rio com um de nossos profissionais?`);
                    if(marcarConsulta == true){coletarAgendamento()
                    }
                    else{alert(agradecerSaida)
                    }
            }  
        }

        function coletarAgendamento(){
            diaSemana = prompt(`${nomeDoUsuario}, informe o melhor dia da semana para agendar sua consulta.`);
            horaDia = prompt(`${nomeDoUsuario}, informe o melhor hor√°rio para sua consulta.`);
            confirmarHorario = confirm(`${nomeDoUsuario}, voc√™ gostaria de confirmar sua consulta com a Dra. Luana Nagydai na ${diaSemana} √†s ${horaDia} horas?`);
                if(confirmarHorario == true){
                    alert(`Muito obrigado pelo seu contato ${nomeDoUsuario}! Sua consulta com a Dra. Luana Nagydai foi solicitada para pr√≥xima ${diaSemana} √†s ${horaDia} horas. Em breve entraremos em contato para confirmar sua consulta.`);
                }
                else{alert(coletarAgendamento())
                }
        }

        function executarApp(){
            coletarDados();
            calcularImc();
        }

    </script>
</body>
</html>